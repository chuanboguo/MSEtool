% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/retrospective_AM.R
\name{retrospective_AM}
\alias{retrospective_AM}
\title{retrospective_AM - retrospective of Assessment model in MSE}
\usage{
retrospective_AM(MSE, DLMenv = DLMtool::DLMenv, sim = 1, MP,
  MSE_Hist = NULL, plot_type = c("SSB", "F", "SSB_SSBMSY", "F_FMSY",
  "SSB_SSB0", "VB"))
}
\arguments{
\item{MSE}{An object of class MSE created by \code{\link[DLMtool]{runMSE}}.}

\item{DLMenv}{The name of the environment that contains the Assessment output
generated during the MSE.}

\item{sim}{Integer between 1 and MSE@nsim. The simulation number for which the retrospectives will be plotted.}

\item{MP}{Character. The name of the management procedure created by \code{\link{make_MP}} containing the asssessment model.}

\item{MSE_Hist}{Optional. The list containing historical data for the MSE, created by \code{\link[DLMtool]{runMSE}} with argument \code{Hist = TRUE}.
Currently only used to plot operating model vulnerable biomass in historical period.}

\item{plot_type}{A character vector of the quantitites to be plotted.}
}
\value{
A series of spawning stock biomass
(SSB, including absolute magnitude and relative to MSY and virgin), fishing mortality (F, including absolute
magnitude and relative to MSY), and vulnerable biomass (VB) estimates over the course of the MSE are plotted
against the operating model (true) values (in black).
}
\description{
Plots the true retrospective of an assessment model during the MSE. A series of time series estimates of SSB, F, and VB
are plotted over the course of the MSE are plotted against the operating model (true) values (in black).
}
\details{
For assessment models that utilize annual harvest rates (u), the instantaneous fishing mortality rates
are obtained as F = -log(1 - u).
}
\note{
This function only plots retrospectives from a single simulation in the MSE. Results from one figure
may not be indicative of general assessment behavior and performance overall.
}
\examples{
\dontrun{
DD_MSY <- makeMP(DD_TMB, HCR_MSY, diagnostic = TRUE)
myMSE_hist <- DLMtool::runMSE(DLMtool::testOM, MPs = "DD_MSY", MSE_Hist = TRUE)
myMSE <- DLMtool::runMSE(DLMtool::testOM, MPs = "DD_MSY")
retrospective_AM(myMSE, sim = 1, MP = "DD_MSY")
retrospective_AM(myMSE, sim = 1, MP = "DD_MSY", Hist = myMSE_hist)

ls(DLMtool::DLMenv) # Assessment output and diagnostics are located here
save(myMSE, DLMenv, myMSE_hist, file = "DLMenv.RData") # Save to disk for future use. File may be very large due to size of DLMenv!
}

}
\seealso{
\link{diagnostic_AM}
}
\author{
Q. Huynh
}
