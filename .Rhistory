fracs=rep(0.2,5)
muprob=0.9
efracs=0.1
evisc=rep(0.1,5)
OM=testOM
nareas<-length(fracs)
data <- list(model = "grav",fracs = fracs, muprob = muprob, nareas = nareas)
params <- list(log_grav = rep(0,nareas-1), log_visc = 0)
info <- list(data = data, params = params)
obj <- MakeADFun(data = info$data, parameters = info$params, DLL = "MSEtool", silent = FALSE)
library(MSEtool)
library(DLMtool)
library(TMB)
fracs=runif(5)
fracs<-fracs/sum(fracs)
muprob=0.7
efracs=0.1
evisc=rep(0.1,5)
OM=testOM
nareas<-length(fracs)
data <- list(model = "grav",fracs = fracs, muprob = muprob, nareas = nareas)
params <- list(log_grav = rep(0.0,nareas-1), log_visc = 0.0)
info <- list(data = data, params = params)
obj <- MakeADFun(data = info$data, parameters = info$params, DLL = "MSEtool", silent = TRUE)
opt <- nlminb(start = obj$par, objective = obj$fn, gradient = obj$gr)
opt
library(MSEtool)
library(DLMtool)
library(TMB)
fracs=runif(5)
fracs<-fracs/sum(fracs)
muprob=0.7
efracs=0.1
evisc=rep(0.1,5)
OM=testOM
nareas<-length(fracs)
data <- list(model = "grav",fracs = fracs, muprob = muprob, nareas = nareas)
params <- list(log_grav = rep(0.0,nareas-1), log_visc = 0.0)
info <- list(data = data, params = params)
obj <- MakeADFun(data = info$data, parameters = info$params, DLL = "MSEtool", silent = TRUE)
opt <- nlminb(start = obj$par, objective = obj$fn, gradient = obj$gr)
opt
library(MSEtool)
library(DLMtool)
library(TMB)
fracs=runif(5)
fracs<-fracs/sum(fracs)
muprob=0.7
efracs=0.1
evisc=rep(0.1,5)
OM=testOM
nareas<-length(fracs)
d
nareas
data <- list(model = "grav",fracs = fracs, muprob = muprob, nareas = nareas)
params <- list(log_grav = rep(0.0,nareas-1), log_visc = 0.0)
info <- list(data = data, params = params)
params
obj <- MakeADFun(data = info$data, parameters = info$params, DLL = "MSEtool", silent = TRUE)
opt <- nlminb(start = obj$par, objective = obj$fn, gradient = obj$gr)
opt
fracs
library(MSEtool)
library(DLMtool)
library(TMB)
fracs=runif(5)
fracs<-fracs/sum(fracs)
muprob=0.7
efracs=0.1
evisc=rep(0.1,5)
OM=testOM
nareas<-length(fracs)
data <- list(model = "grav",fracs = fracs, muprob = muprob, nareas = nareas)
params <- list(log_grav = rep(0.0,nareas-1), log_visc = 0.0)
info <- list(data = data, params = params)
obj <- MakeADFun(data = info$data, parameters = info$params, DLL = "MSEtool", silent = TRUE)
opt <- nlminb(start = obj$par, objective = obj$fn, gradient = obj$gr)
opt
library(MSEtool)
library(DLMtool)
library(TMB)
fracs=runif(5)
fracs<-fracs/sum(fracs)
muprob=0.7
efracs=0.1
evisc=rep(0.1,5)
OM=testOM
nareas<-length(fracs)
data <- list(model = "grav",fracs = fracs, muprob = muprob, nareas = nareas)
data <- list(model = "grav",fracs = fracs, muprob = muprob, nareas = nareas)
params <- list(log_visc = 0,log_grav = rep(0,nareas-1))
info <- list(data = data, params = params)
obj <- MakeADFun(data = info$data, parameters = info$params, DLL = "MSEtool", silent = TRUE)
opt <- nlminb(start = obj$par, objective = obj$fn, gradient = obj$gr)
opt
library(MSEtool)
library(DLMtool)
library(TMB)
fracs=runif(5)
fracs<-fracs/sum(fracs)
muprob=0.7
efracs=0.1
evisc=rep(0.1,5)
OM=testOM
nareas<-length(fracs)
data <- list(model = "grav",fracs = fracs, muprob = muprob, nareas = nareas)
data <- list(model = "grav",fracs = fracs, muprob = muprob, nareas = nareas)
params <- list(log_visc = 0,log_grav = rep(0,nareas-1))
info <- list(data = data, params = params)
obj <- MakeADFun(data = info$data, parameters = info$params, DLL = "MSEtool", silent = TRUE)
opt <- nlminb(start = obj$par, objective = obj$fn, gradient = obj$gr)
opt
